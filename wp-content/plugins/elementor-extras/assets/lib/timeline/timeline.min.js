!function(t,e,i,o){t.timeline=function(i,o){var n={scope:t(e)},s=this;s.opts={};var f=null,r=t(e),c=t(i),l=-1,u=-1,a=0,h=0,d=!1,p=null,m=c.find(".ee-timeline__line"),v=m.find(".ee-timeline__line__inner"),T=c.find(".timeline-item");s.init=function(){s.opts=t.extend({},n,o),s._construct()},s._construct=function(){f=s.opts.scope,a=f.scrollTop(),h=t(e).height(),s.events(),s.requestTick(),s.animateCards()},s.requestTick=function(){d||(p=requestAnimationFrame(s.refresh)),d=!0},s.animateCards=function(){T.each(function(){t(this).offset().top<=f.scrollTop()+.95*r.outerHeight()&&t(this).hasClass("is--hidden")&&t(this).removeClass("is--hidden").addClass("bounce-in")})},s.events=function(){f.on("scroll",s.onScroll),t(e).on("resize",s.onResize)},s.onScroll=function(){a=f.scrollTop(),s.requestTick(),s.animateCards()},s.onResize=function(){a=f.scrollTop(),h=f.height(),s.requestTick()},s.setup=function(){m.css({top:T.first().find(".point").offset().top-T.first().offset().top,bottom:c.offset().top+c.outerHeight()-T.last().find(".point").offset().top})},s.refresh=function(){d=!1,u!==h&&s.setup(),l===a&&u===h||(l=a,u=h,s.progress())},s.progress=function(){var e=T.last().find(".point").offset().top,i=f.scrollTop()-v.offset().top+r.outerHeight()/2;e<=f.scrollTop()+r.outerHeight()/2&&(i=e-v.offset().top),v.css({height:i+"px"}),T.each(function(){t(this).find(".point").offset().top<f.scrollTop()+r.outerHeight()/2?t(this).addClass("is--focused"):t(this).removeClass("is--focused")})},s.destroy=function(){c.removeData("timeline")},s.init()},t.fn.timeline=function(e){return this.each(function(){if(t.fn.timeline.destroy=function(){void 0!==i&&(t(this).data("timeline").destroy(),t(this).removeData("timeline"))},void 0===t(this).data("timeline")){var i=new t.timeline(this,e);t(this).data("timeline",i)}})}}(jQuery,window,document);