!function(t,i,e,l){t.filtery=function(l,n){var a={filterables:".filterable",activeFilterClass:"active",activeFilter:null},r=this;r.opts={};var f=(t(i),t(e),t(l)),o=null,s=null,c=null;r.init=function(){r.opts=t.extend({},a,n),r._construct()},r._construct=function(){o=f.find("[data-filter]"),s=t(r.opts.filterables),r.setup(),r.events()},r.setup=function(){r.opts.activeFilter&&(c=r.opts.activeFilter,r.filter(c))},r.events=function(){o.on("click",r.onClick)},r.onClick=function(i){var e=t(i.target),l=e.data("filter");c!==l&&(r.applyFilter(l),c=l)},r.applyFilter=function(i){if(i){s=t(r.opts.filterables);var e=s.filter(i),l=o.filter('[data-filter="'+i+'"]');s.filter(":not("+i+")").hide(),o.removeClass(r.opts.activeFilterClass),e.show(),l.addClass(r.opts.activeFilterClass)}},r.update=function(){r.applyFilter(c)},r.destroy=function(){o.off("click",r.onClick)},r.init()},t.fn.filtery=function(i){return this.each(function(){if(t.fn.filtery.destroy=function(){void 0!==e&&(t(this).data("filtery").destroy(),t(this).removeData("filtery"))},t.fn.filtery.update=function(){void 0!==e&&t(this).data("filtery").update()},void 0===t(this).data("filtery")){var e=new t.filtery(this,i);t(this).data("filtery",e)}})}}(jQuery,window,document);